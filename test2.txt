Spain’s central government Friday fired Catalonia’s separatist leaders, dissolved its parliament and called new elections for December, hours after regional lawmakers voted in favor of a historic declaration of independence.

Seeking to quell Spain’s gravest constitutional crisis in its nearly four decades of democracy, Prime Minister Mariano Rajoy ousted the man who has become a personal nemesis after weeks of confrontation, the region’s outspoken president, Carles Puigdemont.

The prime minister’s grimly delivered remarks, which followed a special Cabinet session, stood in stark contrast to the celebrations that broke out in Barcelona after the Catalan parliament’s vote. Cheers erupted in the ornate chamber after the result was read — a nearly unbroken series of “Si, si, si.”

The final tally was 70 yes, 10 opposed and two blank ballots. The opposition had walked out in protest moments earlier.

“Long live Catalonia!” Puigdemont told the packed chamber, where some lawmakers brushed away tears.

In brief remarks, the Catalan leader called on supporters to hew to “peaceful, dignified” behavior.

But the dramatic vote also laid bare deep divisions over independence. During parliamentary debate, an anti-secessionist lawmaker, Carlos Carrizosa, tore up a copy of the proposed declaration and castigated the other parliamentarians.

“You leave those Catalans who don’t follow you orphaned, without a government,” he told them.

Hours after independence was announced, hundreds of opponents marched through the city chanting "I am Spanish!" waving Spanish flags and a banner that said "Catalonia is Spain."

When the crowd passed Catalunya Radio, video posted online showed those waving Spanish flags breaking a window. Critics consider the station, which is mostly funded by the regional government, a promoter of the independence movement.

There appeared to be violence on both sides: One video showed Catalonian police confronting the pro-Spain crowd, while another showed a masked Spain supporter punching a pro-independence demonstrator.

For both sides, independence for Catalonia, which has about 7.5 million residents, is a question bound up with history and culture, pride and passion.

Spain considers the secession drive not only a blatant insurrection, but a scalding affront to the country’s still-young democracy and its system of limited self-rule for its 17 regions, including Catalonia.

Catalan nationalists, meanwhile, embrace a past steeped in their own language and traditions, but also shudder at the memory of Gen. Francisco Franco’s dictatorship, under which the region’s suffering was particularly pronounced. Franco died in 1975.

The region has grown into Spain's economic powerhouse, with the tourist hub of Barcelona as its capital. Some Catalans resent having their taxes subsidize poorer parts of Spain and have long lobbied for more fiscal autonomy from Madrid.

The Catalan parliament’s motion called for the start of an independence process that would include the drafting of new regional laws and envisioned the start of negotiations “on equal footing” with Spanish authorities.

In Madrid, a dramatically opposing scenario played out only moments after the Catalan vote. Spain’s Senate voted to trigger Article 155 of the Spanish constitution, effectively authorizing a central government takeover of the region.

That move had been telegraphed for days by the central government but took on heightened, even ominous significance on the heels of Catalonia’s remarkable show of defiance.

Rajoy, who has long denounced the region’s independence drive as illegal, said in his evening address that Catalan leaders had perpetrated a “fraud” that new regional elections, to be held Dec. 21, would redress.

“We believe it is urgent to listen to Catalan citizens,” the Spanish leader said. “Nobody can act outside the law on their behalf.”

Rajoy also said he was firing the head of Catalonia’s regional police force, some of whose members refused to act against Catalans during the violence-marred independence referendum on Oct. 1.

At bars and open-air cafes in Barcelona, passersby paused before televisions to hear Rajoy’s speech from Madrid. Some laughed, others muttered profanities, and some shook their heads and repeated certain words ironically, including “freedom.”

“We have to take civic action,” said Jord Guiu, a 33-year-old who works in e-commerce. “Or we will lose everything we gained over the past 12 hours.”

At the Cabinet meeting, Spanish ministers also agreed to seek a ruling against the Catalan declaration from Spain’s constitutional court. The court already had called Catalonia’s independence referendum illegal.

The constitutional provision triggered by Spanish lawmakers gives the central government broad powers to act against any region that is in grave breach of the law. In a further portent of confrontation, the Spanish prosecutor’s office said it could seek charges of rebellion against those behind the vote, including Puigdemont, his top deputies and perhaps lawmakers as well.

Only 300 miles apart, Madrid and Barcelona took on the characteristics of parallel universes as the day’s events unfolded.

In Barcelona, the scene outside the parliament building was one of jubilation after the parliamentary vote, with an enormous crowd cheering wildly and shouting: “We’re a republic!”

Huge street celebrations erupted, with people toasting each other with bubbly wine poured into plastic cups. Revelers sang the Catalan national anthem “Els Segadors,” or “The Reapers,” which celebrates a 17th century independence bid.

But some in Catalonia greeted the news with foreboding. Less than half of the electorate turned out for the Oct. 1 independence referendum, even though the result was overwhelmingly in favor of secession.

“What scares me is that they will shut down the government and parliament,” said government worker Nuria Carre. “We’ll see what happens tomorrow, if Puigdemont and the rest of the government are in jail.”

Catalonia’s 7.5 million people would face huge challenges with independence — including the fact that no country is offering recognition of their republic.

Powerful European leaders including German Chancellor Angela Merkel and French President Emmanuel Macron sided with Rajoy in rejecting the independence push. And the U.S. State Department, in a pointed statement of support for its NATO ally, the Madrid government, said “Catalonia is an integral part of Spain” — a position later echoed by the White House.

An independent Catalonia would not automatically receive European Union membership, and the bloc has been leery of the secession push, not wishing to encourage separatist movements elsewhere.